import{a as H}from"./chunk-BOUICW57.js";import{f as V}from"./chunk-UNW3C6DV.js";import{b as D,f as I,g as N,i as W,k,l as B,o as z,p as R,q as L,r as A,u as J}from"./chunk-VI7ICVLS.js";import"./chunk-ZHPABADM.js";import{m as v}from"./chunk-ZAFLMFOM.js";import{$b as g,Cb as y,Db as M,Eb as T,Fb as i,Gb as r,Hb as x,Ib as w,Kb as S,Lb as F,Vb as E,Wb as m,Xb as q,Yb as P,_a as a,_b as u,a as b,ac as f,e as G,ka as p,kb as C,la as c,wb as h}from"./chunk-CSZQUQ33.js";var O=G(H());function Z(l,n){if(l&1&&(i(0,"option",7),m(1),r()),l&2){let t=n.$implicit;h("value",t),a(),q(t)}}function K(l,n){if(l&1){let t=w();i(0,"label")(1,"input",11),S("change",function(s){p(t);let d=F();return c(d.actualizarEquipamiento(s))}),r(),m(2),r()}if(l&2){let t=n.$implicit,e=F();a(),h("value",t)("checked",e.formTemplate.equipamiento.includes(t)),a(),P(" ",t," ")}}var _=class l{datosTemplate=[];modoEdicion=!1;formTemplate=this.inicializarFormulario();clasesDisponibles=["Yoga","Zumba","Spinnig","Pilates","Crossfit"];opcionesEquipo=["Tapete para yoga","Pesas","Cuerda","Banda El\xE1stica"];hoy=new Date().toISOString().split("T")[0];ngOnInit(){this.cargarDatos()}inicializarFormulario(){return{id:void 0,nombre:"",correo:"",clase:"",horario:"",fecha:"",equipamiento:[]}}cargarDatos(){let n=localStorage.getItem("datosTemplate");this.datosTemplate=n?JSON.parse(n):[]}guardarDatos(){localStorage.setItem("datosTemplate",JSON.stringify(this.datosTemplate))}actualizarEquipamiento(n){let t=n.target.value;n.target.checked?this.formTemplate.equipamiento.includes(t)||this.formTemplate.equipamiento.push(t):this.formTemplate.equipamiento=this.formTemplate.equipamiento.filter(e=>e!==t)}registrarClase(n){if(!(n.invalid||this.formTemplate.equipamiento.length===0)){if(this.modoEdicion){let t=this.datosTemplate.findIndex(e=>e.id===this.formTemplate.id);t!==-1&&(this.datosTemplate[t]=b({},this.formTemplate)),O.default.fire({icon:"success",title:"\xA1Registro actualizado!",text:"La clase fue modificada correctamente.",timer:2e3,showConfirmButton:!1})}else this.formTemplate.id=Date.now(),this.datosTemplate.push(b({},this.formTemplate)),O.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Tu clase personalizada ha sido registrada.",timer:2e3,showConfirmButton:!1});this.guardarDatos(),n.resetForm(),this.formTemplate=this.inicializarFormulario(),this.modoEdicion=!1}}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=C({type:l,selectors:[["app-clase-formulario"]],decls:29,vars:7,consts:[["claseForm","ngForm"],[1,"panel"],[3,"ngSubmit"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","email","name","correo","required","",3,"ngModelChange","ngModel"],["name","clase","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value"],["type","time","name","horario","required","",3,"ngModelChange","ngModel"],["type","date","name","fecha","required","",3,"ngModelChange","ngModel","min"],["type","submit"],["type","checkbox","name","equipo",3,"change","value","checked"]],template:function(t,e){if(t&1){let s=w();i(0,"div",1)(1,"form",2,0),S("ngSubmit",function(){p(s);let o=E(2);return c(e.registrarClase(o))}),i(3,"label"),m(4," Nombre: "),i(5,"input",3),f("ngModelChange",function(o){return p(s),g(e.formTemplate.nombre,o)||(e.formTemplate.nombre=o),c(o)}),r()(),i(6,"label"),m(7," Correo: "),i(8,"input",4),f("ngModelChange",function(o){return p(s),g(e.formTemplate.correo,o)||(e.formTemplate.correo=o),c(o)}),r()(),i(9,"label"),m(10," Clase: "),i(11,"select",5),f("ngModelChange",function(o){return p(s),g(e.formTemplate.clase,o)||(e.formTemplate.clase=o),c(o)}),i(12,"option",6),m(13,"Seleccione una clase"),r(),M(14,Z,2,2,"option",7,y),r()(),i(16,"label"),m(17," Horario: "),i(18,"input",8),f("ngModelChange",function(o){return p(s),g(e.formTemplate.horario,o)||(e.formTemplate.horario=o),c(o)}),r()(),i(19,"label"),m(20," Fecha: "),i(21,"input",9),f("ngModelChange",function(o){return p(s),g(e.formTemplate.fecha,o)||(e.formTemplate.fecha=o),c(o)}),r()(),i(22,"fieldset")(23,"legend"),m(24,"Equipamiento"),r(),M(25,K,3,3,"label",null,y),r(),i(27,"button",10),m(28),r()()()}t&2&&(a(5),u("ngModel",e.formTemplate.nombre),a(3),u("ngModel",e.formTemplate.correo),a(3),u("ngModel",e.formTemplate.clase),a(3),T(e.clasesDisponibles),a(4),u("ngModel",e.formTemplate.horario),a(3),u("ngModel",e.formTemplate.fecha),h("min",e.hoy),a(4),T(e.opcionesEquipo),a(3),P(" ",e.modoEdicion?"Actualizar Clase":"Registrar Clase"," "))},dependencies:[v,J,B,R,L,D,z,I,N,A,k,W],styles:[".panel[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:2rem;background-color:#fefefe;border-radius:1rem;box-shadow:0 8px 20px #0000001a;font-family:Segoe UI,sans-serif}.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem}nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#e54646;color:#fff;border:none;border-radius:.5rem;cursor:pointer;transition:background-color .3s}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e54646}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:600;color:#444}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:.4rem;font-size:1rem}fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:.5rem;padding:1rem}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:.5rem}fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-right:1.5rem;margin-bottom:.5rem;font-weight:400;cursor:pointer;gap:.4rem}button[type=submit][_ngcontent-%COMP%]{background-color:#10b981;color:#fff;padding:.7rem 1.2rem;border:none;border-radius:.5rem;font-weight:700;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#059669}"]})};var j=class l{static \u0275fac=function(t){return new(t||l)};static \u0275cmp=C({type:l,selectors:[["app-clase-registro"]],decls:1,vars:0,template:function(t,e){t&1&&x(0,"app-clase-formulario")},dependencies:[V,_],encapsulation:2})};export{j as ClaseRegistroComponent};
