import{a as U}from"./chunk-BOUICW57.js";import{b as F,f as q,g as N,i as W,k as D,l as B,o as z,p as R,q as L,r as j,u as H}from"./chunk-VI7ICVLS.js";import{k as I,m as k}from"./chunk-ZAFLMFOM.js";import{$b as C,Bb as T,Cb as A,Db as P,Eb as w,Fb as n,Gb as i,Ib as M,Kb as u,Lb as s,Vb as V,Wb as o,Xb as _,Yb as O,_a as c,_b as f,a as S,ac as x,e as G,ec as h,ka as d,kb as v,la as p,pb as E,wb as g}from"./chunk-CSZQUQ33.js";var y=G(U());var b=l=>({"background-color":l}),Y=(l,a)=>a.id;function Z(l,a){if(l&1&&(n(0,"option",8),o(1),i()),l&2){let e=a.$implicit;g("value",e),c(),_(e)}}function K(l,a){if(l&1){let e=M();n(0,"label")(1,"input",12),u("change",function(t){d(e);let m=s(2);return p(m.actualizarEquipamiento(t))}),i(),o(2),i()}if(l&2){let e=a.$implicit,r=s(2);c(),g("value",e)("checked",r.formTemplate.equipamiento.includes(e)),c(),O(" ",e," ")}}function Q(l,a){if(l&1){let e=M();n(0,"form",3,0),u("ngSubmit",function(){d(e);let t=V(1),m=s();return p(m.registrarClase(t))}),n(2,"label"),o(3," Nombre: "),n(4,"input",4),x("ngModelChange",function(t){d(e);let m=s();return C(m.formTemplate.nombre,t)||(m.formTemplate.nombre=t),p(t)}),u("focus",function(){d(e);let t=s();return p(t.focusedInput="nombre")}),i()(),n(5,"label"),o(6," Correo: "),n(7,"input",5),x("ngModelChange",function(t){d(e);let m=s();return C(m.formTemplate.correo,t)||(m.formTemplate.correo=t),p(t)}),u("focus",function(){d(e);let t=s();return p(t.focusedInput="correo")}),i()(),n(8,"label"),o(9," Clase: "),n(10,"select",6),x("ngModelChange",function(t){d(e);let m=s();return C(m.formTemplate.clase,t)||(m.formTemplate.clase=t),p(t)}),u("focus",function(){d(e);let t=s();return p(t.focusedInput="clase")}),n(11,"option",7),o(12,"Seleccione una clase"),i(),P(13,Z,2,2,"option",8,A),i()(),n(15,"label"),o(16," Horario: "),n(17,"input",9),x("ngModelChange",function(t){d(e);let m=s();return C(m.formTemplate.horario,t)||(m.formTemplate.horario=t),p(t)}),u("focus",function(){d(e);let t=s();return p(t.focusedInput="horario")}),i()(),n(18,"label"),o(19," Fecha: "),n(20,"input",10),x("ngModelChange",function(t){d(e);let m=s();return C(m.formTemplate.fecha,t)||(m.formTemplate.fecha=t),p(t)}),u("focus",function(){d(e);let t=s();return p(t.focusedInput="fecha")}),i()(),n(21,"fieldset")(22,"legend"),o(23,"Equipamiento"),i(),P(24,K,3,3,"label",null,A),i(),n(26,"button",11),o(27),i()()}if(l&2){let e=s();c(4),f("ngModel",e.formTemplate.nombre),g("ngStyle",h(12,b,e.focusedInput==="nombre"?"lightgray":"transparent")),c(3),f("ngModel",e.formTemplate.correo),g("ngStyle",h(14,b,e.focusedInput==="correo"?"lightgray":"transparent")),c(3),f("ngModel",e.formTemplate.clase),g("ngStyle",h(16,b,e.focusedInput==="clase"?"lightgray":"transparent")),c(3),w(e.clasesDisponibles),c(4),f("ngModel",e.formTemplate.horario),g("ngStyle",h(18,b,e.focusedInput==="horario"?"lightgray":"transparent")),c(3),f("ngModel",e.formTemplate.fecha),g("min",e.hoy)("ngStyle",h(20,b,e.focusedInput==="fecha"?"lightgray":"transparent")),c(4),w(e.opcionesEquipo),c(3),O(" ",e.modoEdicion?"Actualizar Clase":"Registrar Clase"," ")}}function X(l,a){if(l&1){let e=M();n(0,"tr")(1,"td"),o(2),i(),n(3,"td"),o(4),i(),n(5,"td"),o(6),i(),n(7,"td"),o(8),i(),n(9,"td"),o(10),i(),n(11,"td"),o(12),i(),n(13,"td")(14,"button",2),u("click",function(){let t=d(e).$implicit,m=s(2);return p(m.editarRegistro(t))}),o(15,"Editar"),i(),n(16,"button",2),u("click",function(){let t=d(e).$implicit,m=s(2);return p(m.eliminarRegistro(t))}),o(17,"Eliminar"),i()()()}if(l&2){let e=a.$implicit;c(2),_(e.nombre),c(2),_(e.correo),c(2),_(e.clase),c(2),_(e.horario),c(2),_(e.fecha),c(2),_(e.equipamiento.join(", "))}}function $(l,a){l&1&&(n(0,"tr")(1,"td",13),o(2,"No hay registros a\xFAn."),i()())}function ee(l,a){if(l&1&&(n(0,"table")(1,"thead")(2,"tr")(3,"th"),o(4,"Nombre"),i(),n(5,"th"),o(6,"Correo"),i(),n(7,"th"),o(8,"Clase"),i(),n(9,"th"),o(10,"Horario"),i(),n(11,"th"),o(12,"Fecha"),i(),n(13,"th"),o(14,"Equipamiento"),i(),n(15,"th"),o(16,"Acciones"),i()()(),n(17,"tbody"),P(18,X,18,6,"tr",null,Y),E(20,$,3,0,"tr"),i()()),l&2){let e=s();c(18),w(e.datosTemplate),c(2),T(e.datosTemplate.length===0?20:-1)}}var J=class l{datosTemplate=[];focusedInput=null;formTemplate=this.inicializarFormulario();editando=!1;indexEditando=null;formEditar={nombre:"",correo:""};clasesDisponibles=["Yoga","Zumba","Spinnig","Pilates","Crossfit"];opcionesEquipo=["Tapete para yoga","Pesas","Cuerda","Banda El\xE1stica"];hoy=new Date().toISOString().split("T")[0];vistaActual="template";modoEdicion=!1;ngOnInit(){this.cargarDatos()}inicializarFormulario(){return{id:void 0,nombre:"",correo:"",clase:"",horario:"",fecha:"",equipamiento:[]}}cargarDatos(){let a=localStorage.getItem("datosTemplate");this.datosTemplate=a?JSON.parse(a):[]}guardarDatos(){localStorage.setItem("datosTemplate",JSON.stringify(this.datosTemplate))}actualizarEquipamiento(a){let e=a.target.value;a.target.checked?this.formTemplate.equipamiento.includes(e)||this.formTemplate.equipamiento.push(e):this.formTemplate.equipamiento=this.formTemplate.equipamiento.filter(r=>r!==e)}registrarClase(a){if(!(a.invalid||this.formTemplate.equipamiento.length===0)){if(this.modoEdicion){let e=this.datosTemplate.findIndex(r=>r.id===this.formTemplate.id);e!==-1&&(this.datosTemplate[e]=S({},this.formTemplate)),y.default.fire({icon:"success",title:"\xA1Registro actualizado!",text:"La clase fue modificada correctamente.",timer:2e3,showConfirmButton:!1})}else this.formTemplate.id=Date.now(),this.datosTemplate.push(S({},this.formTemplate)),y.default.fire({icon:"success",title:"\xA1Registro exitoso!",text:"Tu clase personalizada ha sido registrada.",timer:2e3,showConfirmButton:!1});this.guardarDatos(),a.resetForm(),this.formTemplate=this.inicializarFormulario(),this.modoEdicion=!1}}editarRegistro(a){this.formTemplate=S({},a),this.modoEdicion=!0,this.vistaActual="template"}eliminarRegistro(a){y.default.fire({title:"\xBFEliminar este registro?",text:"Esta acci\xF3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.datosTemplate=this.datosTemplate.filter(r=>r.id!==a.id),this.guardarDatos(),y.default.fire("Eliminado","El registro ha sido eliminado.","success"))})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=v({type:l,selectors:[["app-admin-panel"]],decls:10,vars:2,consts:[["claseForm","ngForm"],[1,"panel"],[3,"click"],[3,"ngSubmit"],["type","text","name","nombre","required","",3,"ngModelChange","focus","ngModel","ngStyle"],["type","email","name","correo","required","",3,"ngModelChange","focus","ngModel","ngStyle"],["name","clase","required","",3,"ngModelChange","focus","ngModel","ngStyle"],["value","","disabled","","selected",""],[3,"value"],["type","time","name","horario","required","",3,"ngModelChange","focus","ngModel","ngStyle"],["type","date","name","fecha","required","",3,"ngModelChange","focus","ngModel","min","ngStyle"],["type","submit"],["type","checkbox","name","equipo",3,"change","value","checked"],["colspan","7"]],template:function(e,r){e&1&&(n(0,"div",1)(1,"h2"),o(2,"Panel de Administraci\xF3n"),i(),n(3,"nav")(4,"button",2),u("click",function(){return r.vistaActual="template"}),o(5,"Formulario"),i(),n(6,"button",2),u("click",function(){return r.vistaActual="tabla"}),o(7,"Registros"),i()(),E(8,Q,28,22,"form")(9,ee,21,1,"table"),i()),e&2&&(c(8),T(r.vistaActual==="template"?8:-1),c(),T(r.vistaActual==="tabla"?9:-1))},dependencies:[k,I,H,B,R,L,F,z,q,N,j,D,W],styles:[".panel[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:2rem;background-color:#fefefe;border-radius:1rem;box-shadow:0 8px 20px #0000001a;font-family:Segoe UI,sans-serif}.panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:1.5rem}nav[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#e54646;color:#fff;border:none;border-radius:.5rem;cursor:pointer;transition:background-color .3s}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e54646}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:600;color:#444}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #ccc;border-radius:.4rem;font-size:1rem}fieldset[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:.5rem;padding:1rem}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{font-weight:700;color:#333;margin-bottom:.5rem}fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-right:1.5rem;margin-bottom:.5rem;font-weight:400;cursor:pointer;gap:.4rem}button[type=submit][_ngcontent-%COMP%]{background-color:#10b981;color:#fff;padding:.7rem 1.2rem;border:none;border-radius:.5rem;font-weight:700;cursor:pointer;transition:background-color .3s}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#059669}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}thead[_ngcontent-%COMP%]{background-color:#f3f4f6}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.8rem;border:1px solid #e5e7eb;text-align:left}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:.4rem .8rem;border:none;border-radius:.4rem;margin-right:.5rem;cursor:pointer;font-size:.9rem}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#ef4444}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}"]})};export{J as AdminPanelComponent};
